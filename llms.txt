# CoreFlow

> iOS architecture framework with Core, Flow, Screen components. Combines Combine and Swift Concurrency for type-safe navigation and state management.

## Documentation Structure

```
docs/
├── core-flow-architecture-guide.md    # Core architecture and components
├── dependency-injection-guide.md      # DI system with @Autowired
└── procedure(workflow)-guid.md        # Workflow/Procedure patterns
```

## Document Index

### 1. Architecture Guide
- **Path**: `docs/core-flow-architecture-guide.md`
- **Topic**: CoreFlow Architecture Components
- **Keywords**: `Flow`, `SLFlow`, `Core`, `SLCore`, `Screen`, `Routing`, `Listener`, `LeakDetector`
- **Description**: Explains the three core components (Core, Flow, Screen) and their responsibilities. Includes SLFlow/SLCore for screenless features.

### 2. Dependency Injection Guide
- **Path**: `docs/dependency-injection-guide.md`
- **Topic**: Dependency Injection System
- **Keywords**: `ServiceLocator`, `@Autowired`, `Assembly`, `Container`, `Swinject`, `DI`
- **Description**: Covers the ServiceLocator pattern and @Autowired property wrapper for dependency injection. Includes registration flow and usage examples.

### 3. Procedure (Workflow) Guide
- **Path**: `docs/procedure(workflow)-guid.md`
- **Topic**: Workflow/Procedure Patterns
- **Keywords**: `Procedure`, `ProcedureStep`, `Step Protocol`, `onStep`, `finalStep`, `Combine`, `Workflow`
- **Description**: Documents the RIBs-like Workflow feature for defining multi-step execution flows. Includes step chaining, lifecycle management, and Combine-based implementation.

## Quick Reference

| Query Topic | Recommended Document |
|-------------|---------------------|
| Component structure (Flow, Core, Screen) | `docs/core-flow-architecture-guide.md` |
| Navigation / Routing | `docs/core-flow-architecture-guide.md` |
| Dependency injection / @Autowired | `docs/dependency-injection-guide.md` |
| ServiceLocator / Assembly | `docs/dependency-injection-guide.md` |
| Workflow / Procedure | `docs/procedure(workflow)-guid.md` |
| Step chaining / onStep | `docs/procedure(workflow)-guid.md` |
| Screenless features (SLCore, SLFlow) | `docs/core-flow-architecture-guide.md` |
| Testing (exhaust, enableTestMode) | `README.md` (Testing section) |

## Source Code References

| Component | Framework Source | Sample Implementation |
|-----------|-----------------|----------------------|
| Flow | `Sources/CoreFlow/Components/Flow.swift` | `Sample/Sample/Sources/Login/LoginFlow.swift` |
| Core | `Sources/CoreFlow/Components/Core/Core.swift` | `Sample/Sample/Sources/Login/LoginCore.swift` |
| Screen | `Sources/CoreFlow/Components/Screen.swift` | `Sample/Sample/Sources/Login/LoginScreen.swift` |
| Procedure | `Sources/CoreFlow/Procedure/Procedure.swift` | `Sample/Sample/Sources/Procedure/DefaultProcedure.swift` |
| DI | `Sources/CoreFlow/Utils/DI/Autowired.swift` | `Sample/Sample/Sources/Login/LoginProvider.swift` |

## Usage Instructions

1. **Architecture Questions**: Start with `docs/core-flow-architecture-guide.md` for understanding component relationships
2. **DI/Injection Questions**: Refer to `docs/dependency-injection-guide.md` for ServiceLocator and @Autowired usage
3. **Workflow/Flow Questions**: Use `docs/procedure(workflow)-guid.md` for multi-step execution patterns
4. **Code Examples**: Check the Sample Implementation paths in the Source Code References table
5. **Testing**: Refer to the Testing section in `README.md` for test mode and exhaust() usage
